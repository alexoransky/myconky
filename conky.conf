--[[
#======================================================================================
#
# Source : conky-sys-info V5 by +WillemO 25-june-16
# also: http://erikdubois.be/category/linux/aureola/
#
#======================================================================================
]]

conky.config = {

	--Various settings

	background = true,             -- forked to background
	cpu_avg_samples = 2,           -- The number of samples to average for CPU monitoring.
	diskio_avg_samples = 10,       -- The number of samples to average for disk I/O monitoring.
	double_buffer = true,          -- Use the Xdbe extension? (eliminates flicker)
	if_up_strictness = 'address',  -- how strict if testing interface is up - up, link or address
	net_avg_samples = 2,           -- The number of samples to average for net data
	no_buffers = true,             -- Subtract (file system) buffers from used memory?
	temperature_unit = 'celsius',  -- fahrenheit or celsius
	text_buffer_size = 2048,       -- size of buffer for display of content of large variables - default 256
	update_interval = 1,           -- update interval
	imlib_cache_size = 0,          -- disable image cache to get a new spotify cover per song


	--Placement

	alignment = 'top_right',       -- top-left,top-middle,top-right,bottom-left,bottom-middle,bottom-right,
	                               -- middle-left,middle-middle,middle-right,none
	gap_x = 0,                     -- pixels between right or left border
	gap_y = 40,                    -- pixels between bottom or left border
	minimum_height = 300,		   -- minimum height of window
	minimum_width = 280,           -- minimum height of window
	maximum_width = 276,           -- maximum height of window

	--Graphical

	border_inner_margin = 10,      -- margin between border and text
	border_outer_margin = 1,       -- margin between border and edge of window
	border_width = 1,              -- border width in pixels
	default_bar_width = 280,       -- default is 0 - full width
	default_bar_height = 10,       -- default is 6
	default_gauge_height = 25,     -- default is 25
	default_gauge_width =40,       -- default is 40
	default_graph_height = 40,     -- default is 25
	default_graph_width = 153,     -- default is 0 - full width
	default_shade_color = '#000000',   -- default shading colour
	default_outline_color = '#000000', -- default outline colour
	draw_borders = false,          -- draw borders around text
	draw_graph_borders = true,     -- draw borders around graphs
	draw_shades = false,           -- draw shades
	draw_outline = false,          -- draw outline
	stippled_borders = 0,          -- dashing the border

	--Textual

	extra_newline = false,         -- extra newline at the end - for asesome's wiboxes
	format_human_readable = true,  -- KiB, MiB rather then number of bytes
	font = 'Roboto:size=9',        -- font for complete conky unless in code defined
	max_text_width = 0,            -- 0 will make sure line does not get broken if width too smal
	max_user_text = 16384,         -- max text in conky default 16384
	override_utf8_locale = true,   -- force UTF8 requires xft
	short_units = true,            -- shorten units from KiB to k
	top_name_width = 21,           -- width for $top name value default 15
	top_name_verbose = false,      -- If true, top name shows the full command line of  each  process - Default value is false.
	uppercase = false,             -- uppercase or not
	use_spacer = 'none',           -- adds spaces around certain objects to align - default none
	use_xft = true,                -- xft font - anti-aliased font
	xftalpha = 1,                  -- alpha of the xft font - between 0-1

	--Windows

	own_window = true,             -- create your own window to draw
	own_window_argb_value = 150,   -- real transparency - composite manager required 0-255
	own_window_argb_visual = true, -- use ARGB - composite manager required
	own_window_class = 'Conky',    -- manually set the WM_CLASS name for use with xprop
	own_window_colour = '#000000', -- set colour if own_window_transparent no
	own_window_hints = 'undecorated,below,above,sticky,skip_taskbar,skip_pager',  -- if own_window true - just hints - own_window_type sets it
	own_window_transparent = yes,  -- if own_window_argb_visual is true sets background opacity 0%
	own_window_title = 'system_conky', -- set the name manually  - default conky "hostname"
	own_window_type = 'desktop',   -- if own_window true options are: normal/override/dock/desktop/panel


	--Colours

	default_color = '#000000',     -- default color and border color

	color1 = '#FFFFFF',  -- text
	color2 = '#FFCC99',  -- titles
	color3 = '#FF9933',  -- sections
	color4 = '#3399FF',  -- indicators, normal
	color5 = '#FFA726',  -- indicators, critical
	color6 = '#99CCFF',  -- values - norm
	color7 = '#3399FF',  -- graphs
	color8 = '#FFA726',  -- orange
	color9 = '#aa0000',  -- firebrick

	--Lua
	lua_load = '~/.config/conky/scripts/lua_scripts.lua',
	--lua_draw_hook_post = "main",

};

conky.text = [[
#
########## SYSTEM
#
${color3}${font Roboto:size=9:weight:bold}SYSTEM ${hr 2}
${color1}${font Roboto:size=9:weight:regular}${nodename}\
${alignr}${color1}$sysname $kernel
${execpi 3600 ~/.config/conky/scripts/cpu_model.lua}
${color2}Uptime ${alignr}${color1} $uptime
# ${color2}Load${alignr}${color6}${loadavg}
#
# Temps/fans
${execpi 10 ~/.config/conky/scripts/mb_temp.lua}
${execpi 10 ~/.config/conky/scripts/mb_fan.lua}
#
${color2}Processes / Threads${alignr}${color6}${processes} / ${threads}
#
# Logged in
${color2}Logged in ${alignr} ${lua_parse user_number ${user_number}} ($user_names)
#
# Available updates
${execpi 3600 ~/.config/conky/scripts/checkupdates.lua} \

#
########## CPU
#
${color3}${font Roboto:size=9:weight:bold}CPU ${hr 2}
${color2}${font Roboto:size=9:weight:regular}Avg${tab 21}\
${color1}${freq_g} GHz\
${alignr}${color6}${cpu cpu0}%  \
${color4}${cpubar cpu0 6, 110}
#
# individual cores
#
${color2}${font Roboto:size=9:weight:regular}1${tab 20}\
${execpi 10 ~/.config/conky/scripts/cpu_temp.lua 0}\
${alignr}${color6}${cpu cpu1}%  ${color4}${cpubar cpu1 6, 110}
${color2}${font Roboto:size=9:weight:regular}2${tab 20}\
${execpi 10 ~/.config/conky/scripts/cpu_temp.lua 1}\
${alignr}${color6}${cpu cpu2}%  ${color4}${cpubar cpu2 6, 110}
${color2}${font Roboto:size=9:weight:regular}3${tab 20}\
${execpi 10 ~/.config/conky/scripts/cpu_temp.lua 2}\
${alignr}${color6}${cpu cpu3}%  ${color4}${cpubar cpu3 6, 110}
${color2}${font Roboto:size=9:weight:regular}4${tab 20}\
${execpi 10 ~/.config/conky/scripts/cpu_temp.lua 3}\
${alignr}${color6}${cpu cpu4}%  ${color4}${cpubar cpu4 6, 110}
#
# CPU graph
#
${color7}${cpugraph 20,278 color7 ff0000 -t}
#
# TOP 5 CPU-consumers
#
${color3}${font Roboto:size=9:weight:bold}NAME${alignr}PID        CPU       MEM
${color6}${font Roboto:size=9:weight:regular}\
${top name 1}${alignr}${color6}${top pid 1}  ${top cpu 1}%  ${top mem 1}%
${top name 2}${alignr}${color6}${top pid 2}  ${top cpu 2}%  ${top mem 2}%
${top name 3}${alignr}${color6}${top pid 3}  ${top cpu 3}%  ${top mem 3}%
${top name 4}${alignr}${color6}${top pid 4}  ${top cpu 4}%  ${top mem 4}%
${top name 5}${alignr}${color6}${top pid 5}  ${top cpu 5}%  ${top mem 5}%
#
########## MEMORY
#
${color3}${font Roboto:size=9:weight:bold}MEMORY ${hr 2}
${color2}${font Roboto:size=9:weight:regular}RAM: ${tab 48} \
${color1}${memmax} ${alignr}${color6}$memperc%  ${color4}${membar 6, 100}
${color2}${font Roboto:size=9:weight:regular}Swap: ${tab 48} \
${color1}${swapmax} ${alignr}${color6}$swapperc%  ${color4}${swapbar 6, 100}
#
########## DISK
#
${color3}${font Roboto:size=9:weight:bold}DISK ${hr 2}
${color2}${font Roboto:size=9:weight:regular}\
# ${execpi 10 ~/.config/conky/scripts/disk_size.lua sda1}
# ${execpi 10 ~/.config/conky/scripts/disk_size.lua sda2}
${execpi 10 ~/.config/conky/scripts/disk_size.lua sda3}
${execpi 10 ~/.config/conky/scripts/disk_size.lua sdb1}
${color6}${diskio_read /dev/sda3}${alignr}${diskio_write /dev/sda3}
${color7}${diskiograph_read /dev/sda3 20, 130}${alignr}${diskiograph_write /dev/sda3 20, 130}
# ${if_existing /dev/sdb1}${exec df -h | grep "sdb1" | cut -c -38} $else $endif
# ${color1}${fs_bar 6,150} Disk ${alignr}${if_match $fs_free_perc < 10}${color9}${else}${color6}${endif}${exec df -h / | grep /dev/ | awk '{print $5}'}
#
########## NETWORK
#
${color3}${font Roboto:size=9:weight:bold}NETWORK ${hr 2}
${color1}${font Roboto:size=9:weight:regular}${addr eno1}\
${alignr}${color1}${execi 60 curl  ipinfo.io/ip}
${color6}${downspeed eno1}${tab 48}${totaldown eno1}\
${tab 37}${color6}${upspeed eno1}${alignr}${totalup eno1}
${color7}${downspeedgraph eno1 20, 130 color7 3399FF 10000000 -l -t}\
${alignr}${upspeedgraph eno1 20, 130 color7 3399FF 10000000 -l -t}
#
########## METAR
#
${color3}${font Roboto:size=9:weight:bold}METAR ${hr 2}
${color2}${font Roboto:size=9:weight:regular}UTC ${alignr}${color1}$utime
${color2}${font Roboto:size=9:weight:regular}KMLB \
${alignr}${color6}${weather http://tgftp.nws.noaa.gov/data/observations/metar/stations/ kmlb last_update} UTC
${weather http://tgftp.nws.noaa.gov/data/observations/metar/stations/ kmlb cloud_cover} \
${alignr}${color6}${weather http://tgftp.nws.noaa.gov/data/observations/metar/stations/ kmlb weather}
T: ${weather http://tgftp.nws.noaa.gov/data/observations/metar/stations/ kmlb temperature} Â°C   \
P: ${weather http://tgftp.nws.noaa.gov/data/observations/metar/stations/ kmlb pressure} hPa   \
H: ${weather http://tgftp.nws.noaa.gov/data/observations/metar/stations/ kmlb humidity}%   \
${alignr}W: ${weather http://tgftp.nws.noaa.gov/data/observations/metar/stations/ kmlb wind_dir}  \
${weather http://tgftp.nws.noaa.gov/data/observations/metar/stations/ kmlb wind_speed} km/h
]]
